<div class="w-full">
<div class="w-auto sm:w-1/2 md:w-1/3 mx-auto">
<div class= "flex justify-center mt-1">
<h1 class= "text-4xl underline">Gabs</h1>
</div>
<br>
<div id="posts", class="mb-20">
  <div class="flex justify-between items-center">
    <%= link_to "New post", new_post_path, class: " text-center fixed inset-x-30 bottom-6 p-4 w-auto rounded-md px-3.5 py-2.5 bg-blue-600 hover:bg-blue-500 text-white block font-medium" %>
  </div>
  <% @posts.each do |post| %>
    <article class="bg-white p-6 rounded-xl ring-1 inset-shadow-3xl shadow-lg hover:shadow-xl transition duration-300 ease-in-out">
      <p  class="mb-2 text-3xl line-clamp-3"><%= post.event %></p>
      <hr class="mb-1">
      <%= link_to post_path(post), class: "block" do%>
        <% if post.item_ids.present? %>
          <div style="display: flex; flex-direction: row; gap: 10px;">
            <% post.item_ids.first(3).each do |item_ids| %>
              <%= image_tag Item.find(item_ids).item_cover.variant(:small).processed %>
            <% end %>
          </div>
        <% else %>
          <p>No images attached.</p>
        <% end %>
        <hr class="mt-1">
        <p  class="text-gray-600 mb-4 line-clamp-3"><%= post.description.truncate(100) %></p>
        <small>Posted on: <%= post.created_at.strftime("%B %d, %Y") %></small>
      <% end %>
    </article>
    <br>
  <% end %>
</div>
</div>
</div>